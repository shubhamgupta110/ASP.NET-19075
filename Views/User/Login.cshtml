@{
    ViewData["Title"] = "Login / Register";
}

<style>
    body {
        background: linear-gradient(135deg, #007bff, #00bcd4);
        font-family: 'Poppins', sans-serif;
    }

    .login-container {
        width: 400px;
        margin: 60px auto;
        background: white;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 0 15px rgba(0,0,0,0.2);
        text-align: center;
    }

    h2 {
        margin-bottom: 20px;
        color: #333;
    }

    input, button {
        width: 100%;
        margin-top: 10px;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 8px;
    }

    button {
        background: #007bff;
        color: white;
        font-weight: bold;
        border: none;
        cursor: pointer;
        transition: 0.3s;
    }

        button:hover {
            background: #0056b3;
        }

    .switch-link {
        text-align: center;
        margin-top: 15px;
        color: #007bff;
        cursor: pointer;
        text-decoration: underline;
    }
</style>

<div class="login-container">
    <h2 id="formTitle">User Login</h2>

    <!-- ✅ USER LOGIN FORM -->
    <form id="userLoginForm" method="post" asp-action="Login" asp-controller="User">
        <input type="email" name="email" placeholder="User Email" required />
        <input type="password" name="password" placeholder="Password" required />
        <button type="submit">Login</button>
    </form>

    <!-- ✅ USER REGISTER FORM -->
    <form id="userRegisterForm" method="post" asp-action="Register" asp-controller="User" style="display:none;">
        <input type="text" name="name" placeholder="Full Name" required />
        <input type="email" name="email" placeholder="Email" required />
        <input type="password" name="password" placeholder="Password" required />
        <input type="text" name="phone" placeholder="Phone Number" />
        <input type="text" name="address" placeholder="Address" />
        <button type="submit">Register</button>
    </form>

    <!-- ✅ ADMIN LOGIN FORM -->
    <form id="adminLoginForm" method="post" asp-action="Login" asp-controller="Admin" style="display:none;">
        <input type="text" name="username" placeholder="Admin Username" required />
        <input type="password" name="password" placeholder="Admin Password" required />
        <button type="submit">Login as Admin</button>
    </form>

    <!-- ✅ Toggle Links -->
    <div class="switch-link" id="switchToRegister" onclick="toggleForm('register')">New User? Register</div>
    <div class="switch-link" id="switchToLogin" onclick="toggleForm('login')" style="display:none;">Already have an account? Login</div>
    <div class="switch-link" id="switchToAdmin" onclick="toggleForm('admin')">Login as Admin</div>
</div>

<script>
    function toggleForm(mode) {
        const userLogin = document.getElementById('userLoginForm');
        const userRegister = document.getElementById('userRegisterForm');
        const adminLogin = document.getElementById('adminLoginForm');
        const formTitle = document.getElementById('formTitle');
        const switchToRegister = document.getElementById('switchToRegister');
        const switchToLogin = document.getElementById('switchToLogin');
        const switchToAdmin = document.getElementById('switchToAdmin');

        // Reset all forms
        userLogin.style.display = 'none';
        userRegister.style.display = 'none';
        adminLogin.style.display = 'none';
        switchToRegister.style.display = 'none';
        switchToLogin.style.display = 'none';
        switchToAdmin.style.display = 'block';

        if (mode === 'register') {
            userRegister.style.display = 'block';
            formTitle.textContent = 'User Registration';
            switchToLogin.style.display = 'block';
            switchToAdmin.textContent = 'Login as Admin';
        } else if (mode === 'admin') {
            adminLogin.style.display = 'block';
            formTitle.textContent = 'Admin Login';
            switchToLogin.style.display = 'block';
            switchToLogin.onclick = () => toggleForm('login');
            switchToRegister.style.display = 'none';
            switchToAdmin.textContent = 'Login as User';
            switchToAdmin.onclick = () => toggleForm('login');
        } else {
            userLogin.style.display = 'block';
            formTitle.textContent = 'User Login';
            switchToRegister.style.display = 'block';
            switchToAdmin.textContent = 'Login as Admin';
            switchToAdmin.onclick = () => toggleForm('admin');
        }
    }
</script>
